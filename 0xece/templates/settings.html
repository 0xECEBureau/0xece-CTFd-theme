{% extends "base.html" %}

{% block title %}Paramètres - {{ ctf_name }}{% endblock %}

{% block content %}
<div class="container">
    <div class="card animate-slide-up" style="max-width: 600px; margin: 0 auto;">
        <div class="card-header">
            <h1>Paramètres</h1>
        </div>
        <div class="card-body">
            <form method="post" action="{{ url_for('users.settings') }}">
                <input type="hidden" name="nonce" value="{{ nonce }}">

                <div class="form-group">
                    <label class="form-label" for="name">Nom d'utilisateur</label>
                    <input type="text" class="form-input" id="name" name="name" value="{{ user.name }}">
                </div>

                <div class="form-group">
                    <label class="form-label" for="email">Email</label>
                    <input type="email" class="form-input" id="email" name="email" value="{{ user.email }}">
                </div>

                <div class="form-group">
                    <label class="form-label" for="affiliation">Affiliation</label>
                    <input type="text" class="form-input" id="affiliation" name="affiliation"
                        value="{{ user.affiliation or '' }}" placeholder="École, entreprise...">
                </div>

                <div class="form-group">
                    <label class="form-label" for="website">Site web</label>
                    <input type="url" class="form-input" id="website" name="website" value="{{ user.website or '' }}"
                        placeholder="https://...">
                </div>

                <hr style="border: 1px dashed var(--text-black); margin: 2rem 0;">

                <h4 class="mb-2">Changer le mot de passe</h4>

                <div class="form-group">
                    <label class="form-label" for="password">Nouveau mot de passe</label>
                    <input type="password" class="form-input" id="password" name="password"
                        placeholder="Laisser vide pour ne pas changer">
                </div>

                <div class="form-group">
                    <label class="form-label" for="confirm">Confirmer le mot de passe</label>
                    <input type="password" class="form-input" id="confirm" name="confirm">
                </div>

                <hr style="border: 1px dashed var(--text-black); margin: 2rem 0;">

                <div class="form-group">
                    <label class="form-label" for="current_password">Mot de passe actuel (requis pour
                        sauvegarder)</label>
                    <input type="password" class="form-input" id="current_password" name="current_password" required>
                </div>

                <button type="submit" class="btn btn-primary btn-lg" style="width: 100%;">
                    Sauvegarder
                </button>
            </form>
        </div>
    </div>
</div>
{% endblock %}